setopt HIST_FCNTL_LOCK
setopt HIST_FIND_NO_DUPS
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_SAVE_NO_DUPS
setopt SHARE_HISTORY
unsetopt beep
bindkey -v

# The following lines were added by compinstall
zstyle :compinstall filename '"$XDG_CONFIG_HOME"/zsh/.zshrc'
autoload -Uz compinit
compinit
# End of lines added by compinstall
eval "$(zoxide init zsh)"

ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"
[ ! -d $ZINIT_HOME ] && mkdir -p "$(dirname $ZINIT_HOME)"
[ ! -d $ZINIT_HOME/.git ] && git clone https://github.com/zdharma-continuum/zinit.git "$ZINIT_HOME"
source "${ZINIT_HOME}/zinit.zsh"

autoload -Uz _zinit
(( ${+_comps} )) && _comps[zinit]=_zinit

zinit light zdharma-continuum/fast-syntax-highlighting
zinit light marlonrichert/zsh-autocomplete

alias c='chezmoi'
alias cat='bat'
alias cd='z' # BUG: interactive mode is broken and therefore has no alias
alias cdiff='chezmoi diff && chezmoi git diff'
alias e='nvim'
alias en='nvim ~/.config/nvim/init.lua'
alias fetch-git='onefetch'
alias fetch='pfetch'
alias loc='tokei'
alias ls='eza -a -o --icons'
alias lynx='lynx https://lite.duckduckgo.com/lite'
alias paru='paru --bottomup'
alias q='exit'
alias source-zsh='source "$XDG_CONFIG_HOME"/zsh/.zshrc'
alias symlink='ln -s'
alias wikiman='wikiman -H lynx'

eval "$(starship init zsh)"

function wal() {
  cp $WALLPAPER/wallpaper$1 $WALLPAPER/current
  swww img $WALLPAPER/current
}
